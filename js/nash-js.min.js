!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r=r||self)["nash-js"]=n()}(this,(function(){"use strict";function r(r){for(var n=new Uint32Array(r.length/4),t=0;t<r.length;t+=4)n[t/4]=(255&r.charCodeAt(t))<<24^(255&r.charCodeAt(t+1))<<16^(255&r.charCodeAt(t+2))<<8^255&r.charCodeAt(t+3);return n}var n=new Uint32Array([3740873715,79036223,1707229911,3017670463,2780814524,462356544,3348582141,1403584576,2045484948,1137967168,3473548122,3253076032,1753167227,4035117376,1864540953,2089484608]);function t(r,n){return n%=2,(r%=2)>0&&n>0?19:r>0&&0===n?10:0===r&&n>0?14:11}function e(r,n){return(r^n)>>>0}function o(r,n){return(r>>n|r<<32-n)>>>0}function i(i){"string"==typeof i&&(i=r(i));var f=new Uint32Array(26);if(i.length>8)throw new Error("Initial key is too long");for(var a=0;a<i.length;a++)f[a]=i[a];for(var u=0;u+a<8;u++)f[a+u]=n[2*u];for(;a<24;a++)f[a]=a^f[a%6+2];var h=new Uint32Array(24),c=f[0],g=f[1];for(a=0;a<24;a++)h[a]=o(e(c,f[a+2]),t(c,e(c,f[a+2])))^g>>>0,g=c,c=h[a];return h}return{encrypt:function(n,f){"string"==typeof n&&(n=r(n)),f=i(f);for(var a=new Uint32Array(n.length),u=0;u<n.length;u+=2){for(var h=n[u],c=n[u+1],g=0;g<24;g++){var l=h;h=(o(e(h,f[g]),t(h,e(h,f[g])))^c)>>>0,c=l}a[u]=h,a[u+1]=c}return a},decrypt:function(n,f){"string"==typeof n&&(n=r(n)),f=i(f);for(var a=new Uint32Array(n.length),u=0;u<n.length;u+=2){for(var h=n[u],c=n[u+1],g=23;g>=0;g--){var l=c;c=(h^o(e(c,f[g]),t(c,e(c,f[g]))))>>>0,h=l}a[u]=h,a[u+1]=c}return a},i2h:function(r){for(var n="",t=0;t<r.length;t++)n+=("00000000"+r[t].toString(16)).slice(-8);return n},h2i:function(r){for(var n=new Uint32Array(Math.floor(r.length/8)),t=0;t<r.length;t+=8)n[t/8]=+("0x"+r.slice(t,t+8));return n},s2i:r,i2s:function(r){for(var n="",t=0;t<r.length;t++)n+=String.fromCharCode(r[t]>>24&255)+String.fromCharCode(r[t]>>16&255)+String.fromCharCode(r[t]>>8&255)+String.fromCharCode(255&r[t]);return n}}}));
